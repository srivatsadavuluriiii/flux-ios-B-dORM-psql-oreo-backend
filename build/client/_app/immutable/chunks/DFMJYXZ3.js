import{M as Y,N as O,O as D,P as x,Q as F,R as H,S as V,b as W,T as $,h as m,H as k,V as N,e as g,s as E,i as _,W as I,X as R,Y as S,a as j,Z as q,_ as B,a0 as Q,a1 as X,a2 as Z,a3 as z,g as G,A as J,l as K,C as U}from"./afGwa9RP.js";import{b as ee}from"./C9u5aXvY.js";const te=["touchstart","touchmove"];function ae(e){return te.includes(e)}const re=new Set,C=new Set;function T(e){var t=this,r=t.ownerDocument,d=e.type,l=e.composedPath?.()||[],a=l[0]||e.target,f=0,h=e.__root;if(h){var u=l.indexOf(h);if(u!==-1&&(t===document||t===window)){e.__root=t;return}var v=l.indexOf(t);if(v===-1)return;u<=v&&(f=u)}if(a=l[f]||e.target,a!==t){Y(e,"currentTarget",{configurable:!0,get(){return a||r}});var b=F,o=H;O(null),D(null);try{for(var n,s=[];a!==null;){var y=a.assignedSlot||a.parentNode||a.host||null;try{var c=a["__"+d];if(c!=null&&(!a.disabled||e.target===a))if(x(c)){var[M,...P]=c;M.apply(a,[e,...P])}else c.call(a,e)}catch(w){n?s.push(w):n=w}if(e.cancelBubble||y===t||y===null)break;a=y}if(n){for(let w of s)queueMicrotask(()=>{throw w});throw n}}finally{e.__root=t,delete e.currentTarget,O(b),D(o)}}}let i;function ne(){i=void 0}function de(e){let t=null,r=m;var d;if(m){for(t=_,i===void 0&&(i=I(document.head));i!==null&&(i.nodeType!==8||i.data!==k);)i=N(i);i===null?g(!1):i=E(N(i))}m||(d=document.head.appendChild(V()));try{W(()=>e(d),$)}finally{r&&(g(!0),i=_,E(t))}}function le(e,t){var r=t==null?"":typeof t=="object"?t+"":t;r!==(e.__t??=e.nodeValue)&&(e.__t=r,e.nodeValue=r+"")}function se(e,t){return L(e,t)}function fe(e,t){R(),t.intro=t.intro??!1;const r=t.target,d=m,l=_;try{for(var a=I(r);a&&(a.nodeType!==8||a.data!==k);)a=N(a);if(!a)throw S;g(!0),E(a),j();const f=L(e,{...t,anchor:a});if(_===null||_.nodeType!==8||_.data!==q)throw B(),S;return g(!1),f}catch(f){if(f===S)return t.recover===!1&&Q(),R(),X(r),g(!1),se(e,t);throw f}finally{g(d),E(l),ne()}}const p=new Map;function L(e,{target:t,anchor:r,props:d={},events:l,context:a,intro:f=!0}){R();var h=new Set,u=o=>{for(var n=0;n<o.length;n++){var s=o[n];if(!h.has(s)){h.add(s);var y=ae(s);t.addEventListener(s,T,{passive:y});var c=p.get(s);c===void 0?(document.addEventListener(s,T,{passive:y}),p.set(s,1)):p.set(s,c+1)}}};u(Z(re)),C.add(u);var v=void 0,b=z(()=>{var o=r??t.appendChild(V());return G(()=>{if(a){J({});var n=K;n.c=a}l&&(d.$$events=l),m&&ee(o,null),v=e(o,d)||{},m&&(H.nodes_end=_),a&&U()}),()=>{for(var n of h){t.removeEventListener(n,T);var s=p.get(n);--s===0?(document.removeEventListener(n,T),p.delete(n)):p.set(n,s)}C.delete(u),o!==r&&o.parentNode?.removeChild(o)}});return A.set(v,b),v}let A=new WeakMap;function ue(e,t){const r=A.get(e);return r?(A.delete(e),r(t)):Promise.resolve()}export{fe as a,de as h,se as m,le as s,ue as u};

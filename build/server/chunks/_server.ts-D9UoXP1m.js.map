{"version":3,"file":"_server.ts-D9UoXP1m.js","sources":["../../../.svelte-kit/adapter-node/entries/endpoints/api/health/_server.ts.js"],"sourcesContent":["import { j as json } from \"../../../../chunks/index.js\";\nconst GET = async () => {\n  const startTime = Date.now();\n  try {\n    const responseTime = Date.now() - startTime;\n    return json({\n      success: true,\n      data: {\n        status: \"healthy\",\n        service: \"flux-backend\",\n        version: \"1.0.0\",\n        environment: process.env.NODE_ENV || \"development\",\n        timestamp: (/* @__PURE__ */ new Date()).toISOString(),\n        // System information\n        system: {\n          uptime: process.uptime(),\n          memory: {\n            used: Math.round(process.memoryUsage().heapUsed / 1024 / 1024 * 100) / 100,\n            total: Math.round(process.memoryUsage().heapTotal / 1024 / 1024 * 100) / 100,\n            external: Math.round(process.memoryUsage().external / 1024 / 1024 * 100) / 100\n          },\n          node: process.version,\n          platform: process.platform\n        },\n        // Phase completion status\n        development: {\n          phase: \"Phase 1 - Backend Foundation\",\n          completion: \"100%\",\n          checkpoints: {\n            \"project-foundation\": \"completed\",\n            \"database-infrastructure\": \"completed\",\n            \"middleware-stack\": \"completed\"\n          },\n          nextPhase: \"Phase 2 - Frontend Development\"\n        }\n      },\n      responseTime\n    }, {\n      status: 200,\n      headers: {\n        \"Cache-Control\": \"no-cache, no-store, must-revalidate\",\n        \"X-Health-Check\": \"flux-backend-v1\"\n      }\n    });\n  } catch (error) {\n    const responseTime = Date.now() - startTime;\n    console.error(\"[Flux Health] Health check failed:\", error);\n    return json({\n      success: false,\n      error: {\n        code: \"HEALTH_CHECK_FAILED\",\n        message: \"Health check encountered an error\",\n        details: {\n          error: error?.toString()\n        }\n      },\n      data: {\n        status: \"unhealthy\",\n        service: \"flux-backend\",\n        version: \"1.0.0\",\n        environment: process.env.NODE_ENV || \"development\",\n        timestamp: (/* @__PURE__ */ new Date()).toISOString()\n      },\n      responseTime\n    }, {\n      status: 503,\n      headers: {\n        \"Cache-Control\": \"no-cache, no-store, must-revalidate\",\n        \"X-Health-Check\": \"flux-backend-v1\"\n      }\n    });\n  }\n};\nconst HEAD = async () => {\n  try {\n    return new Response(null, {\n      status: 200,\n      headers: {\n        \"X-Health-Status\": \"healthy\"\n      }\n    });\n  } catch (error) {\n    return new Response(null, { status: 503 });\n  }\n};\nexport {\n  GET,\n  HEAD\n};\n"],"names":[],"mappings":"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"}